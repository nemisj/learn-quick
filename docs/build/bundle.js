var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function o(t){t.forEach(e)}function r(t){return"function"==typeof t}function l(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function c(t,e){t.appendChild(e)}function a(t,e,n){t.insertBefore(e,n||null)}function i(t){t.parentNode.removeChild(t)}function s(t){return document.createElement(t)}function u(t){return document.createTextNode(t)}function d(){return u(" ")}function f(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function h(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function p(t,e){e=""+e,t.data!==e&&(t.data=e)}let g;function m(t){g=t}function v(t){(function(){if(!g)throw new Error("Function called outside component initialization");return g})().$$.on_mount.push(t)}const $=[],b=[],y=[],k=[],w=Promise.resolve();let x=!1;function _(t){y.push(t)}let E=!1;const S=new Set;function z(){if(!E){E=!0;do{for(let t=0;t<$.length;t+=1){const e=$[t];m(e),N(e.$$)}for($.length=0;b.length;)b.pop()();for(let t=0;t<y.length;t+=1){const e=y[t];S.has(e)||(S.add(e),e())}y.length=0}while($.length);for(;k.length;)k.pop()();x=!1,E=!1,S.clear()}}function N(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(_)}}const M=new Set;function A(t,e){-1===t.$$.dirty[0]&&($.push(t),x||(x=!0,w.then(z)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function O(l,c,a,s,u,d,f=[-1]){const h=g;m(l);const p=c.props||{},v=l.$$={fragment:null,ctx:null,props:d,update:t,not_equal:u,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(h?h.$$.context:[]),callbacks:n(),dirty:f};let $=!1;if(v.ctx=a?a(l,p,(t,e,...n)=>{const o=n.length?n[0]:e;return v.ctx&&u(v.ctx[t],v.ctx[t]=o)&&(v.bound[t]&&v.bound[t](o),$&&A(l,t)),e}):[],v.update(),$=!0,o(v.before_update),v.fragment=!!s&&s(v.ctx),c.target){if(c.hydrate){const t=function(t){return Array.from(t.childNodes)}(c.target);v.fragment&&v.fragment.l(t),t.forEach(i)}else v.fragment&&v.fragment.c();c.intro&&((b=l.$$.fragment)&&b.i&&(M.delete(b),b.i(y))),function(t,n,l){const{fragment:c,on_mount:a,on_destroy:i,after_update:s}=t.$$;c&&c.m(n,l),_(()=>{const n=a.map(e).filter(r);i?i.push(...n):o(n),t.$$.on_mount=[]}),s.forEach(_)}(l,c.target,c.anchor),z()}var b,y;m(h)}const j=[{it:"la ragazza",en:"the girl"},{it:"il ragazzo",en:"the boy"},{it:"il panno",en:"bread"},{it:"la domanda",en:"question"},{it:"la risposta",ru:"ответ"}];function q(t){let e,n,r,l,g,m,v,$,b,y,k,w,x,_,E,S,z,N,M=(t[1][0].length>t[1][1].length?t[1][0]:t[1][1])+"",A=t[1][0]+"",O=t[1][1]+"";return{c(){var o,c,a;e=s("div"),n=s("div"),r=s("div"),l=u(M),g=d(),m=s("h1"),v=u(A),$=d(),b=s("h1"),y=u(O),k=d(),w=s("div"),x=s("div"),_=d(),E=s("div"),h(r,"class","text svelte-1267k2l"),o="visibility",c="hidden",r.style.setProperty(o,c,a?"important":""),h(m,"class","card text back svelte-1267k2l"),h(b,"class","card text front svelte-1267k2l"),h(x,"class","good svelte-1267k2l"),h(E,"class","bad svelte-1267k2l"),h(w,"class","buttons-container svelte-1267k2l"),h(n,"class",S="zork "+(t[0]&&"flipped")+" svelte-1267k2l"),h(e,"class","scene svelte-1267k2l")},m(o,i){a(o,e,i),c(e,n),c(n,r),c(r,l),c(n,g),c(n,m),c(m,v),c(n,$),c(n,b),c(b,y),c(n,k),c(n,w),c(w,x),c(w,_),c(w,E),z||(N=[f(x,"click",t[9]),f(E,"click",t[10])],z=!0)},p(t,e){2&e&&M!==(M=(t[1][0].length>t[1][1].length?t[1][0]:t[1][1])+"")&&p(l,M),2&e&&A!==(A=t[1][0]+"")&&p(v,A),2&e&&O!==(O=t[1][1]+"")&&p(y,O),1&e&&S!==(S="zork "+(t[0]&&"flipped")+" svelte-1267k2l")&&h(n,"class",S)},d(t){t&&i(e),z=!1,o(N)}}}function C(t){let e;return{c(){e=u("There are no words anymore. Genius;")},m(t,n){a(t,e,n)},d(t){t&&i(e)}}}function I(e){let n,o,r=e[1]&&q(e),l=!e[1]&&C();return{c(){n=s("main"),r&&r.c(),o=d(),l&&l.c(),h(n,"class","svelte-1267k2l")},m(t,e){a(t,n,e),r&&r.m(n,null),c(n,o),l&&l.m(n,null)},p(t,[e]){t[1]?r?r.p(t,e):(r=q(t),r.c(),r.m(n,o)):r&&(r.d(1),r=null),t[1]?l&&(l.d(1),l=null):l||(l=C(),l.c(),l.m(n,null))},i:t,o:t,d(t){t&&i(n),r&&r.d(),l&&l.d()}}}function J(t,e,n){if(void 0===window.localStorage)throw new Error("No localStorage support, sorry");const o=()=>{const t=localStorage.getItem("words");if(t)try{return JSON.parse(t)}catch(t){}return{bad:[],good:[]}},r=t=>{localStorage.setItem("words",JSON.stringify(t))},l=()=>{const t=o();if(t.bad.length+t.good.length===j.length)return;const e=t.good.reduce((t,{it:e})=>(t[e]=!0,t),{});t.bad=[],j.forEach(n=>{e[n.it]||t.bad.push(n)}),r(t)};let c,a="",i=-1;const s=t=>Math.floor(6*Math.random())%2==0?[t.it,t.ru||t.en]:[t.ru||t.en,t.it],u=()=>{const t=o().bad,e=t.length;if(0===e)return void n(1,c=void 0);if(1===e)return void n(1,c=s(t[0]));let r;do{r=Math.floor(Math.random()*e)}while(r===i);i=r,n(1,c=s(t[i]))},d=t=>{if(a){const e=o(),l=e.bad[i];t&&(e.good.push(l),e.bad.splice(i,1),r(e)),u(),n(0,a=!1)}else n(0,a=!0)};v(()=>{l(),u()});return[a,c,d,i,o,r,l,s,u,()=>d(!0),()=>d(!1)]}return new class extends class{$destroy(){!function(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}{constructor(t){super(),O(this,t,J,I,l,{})}}({target:document.body,props:{name:"world"}})}();
//# sourceMappingURL=bundle.js.map
